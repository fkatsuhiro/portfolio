---
import Layout from "../layouts/Layout.astro";
import ThemeToggle from "../components/ThemeToggle";
import HomeImage from "../assets/homeImg.png";
import PageLinkBlock from "../components/PageLinkBlock";

// 1. ベースパスを取得
const basePath = import.meta.env.BASE_URL;

const menuLinks = [
    {
        title: "About",
        // 2. ベースパスと結合する (例: /portfolio/ + about)
        href: `${basePath}/about`, 
        desc1: "Who am I.",
        desc2: "My story, skills, and where to find me.",
    },
    {
        title: "Works",
        href: `${basePath}/works`,
        desc1: "Development Lab.",
        desc2: "Productu I build. A collection of tools and ideas.",
    },
    {
        title: "Slides",
        href: `${basePath}/slides`,
        desc1: "Talks & Slides.",
        desc2: "Sharig knowledge at tech conference and events.",
    },
    {
        title: "Blogs",
        href: `${basePath}/blogs`,
        desc1: "Writing.",
        desc2: "Articles, notes, and technical dives.",
    },
];
---

<Layout title="My Portfolio">
    {/* 以下のHTML部分は変更なしでOKです */}
    <main>
        <section class="relative h-screen w-full flex overflow-hidden">
            <div class="absolute top-4 right-4 z-20">
                <ThemeToggle client:load />
            </div>

            <div
                class="w-1/2 h-full flex flex-col justify-center md:justify-end p-4 md:p-16 z-10 bg-white dark:bg-gray-950"
            >
                <div class="mb-0 md:mb-40 ml-6 md:mx-10 mt-12 md:mt-0">
                    <h2
                        class="text-xl sm:text-2xl md:text-5xl font-bold tracking-tight text-gray-900 dark:text-white leading-tight break-words"
                    >
                        Furuichi Katsuhiro
                    </h2>
                    <p
                        class="mt-2 md:mt-4 text-xs sm:text-sm md:text-xl text-gray-500 dark:text-gray-400"
                    >
                        Frontend Developer
                    </p>
                </div>
            </div>

            <div
                class="w-1/2 h-full bg-white dark:bg-gray-950 flex items-center justify-center relative"
            >
                <img
                    src={HomeImage.src}
                    alt="Portrait"
                    class="w-4/5 md:w-3/5 h-auto md:h-3/5 object-contain"
                />
            </div>
        </section>

        <section class="min-h-screen py-20 px-4 max-w-4xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-10 pt-20">
                {
                    menuLinks.map((link) => (
                        <PageLinkBlock
                            href={link.href}
                            title={link.title}
                            desc1={link.desc1}
                            desc2={link.desc2}
                            client:visible
                        />
                    ))
                }
            </div>
        </section>

        <div
            class="absolute bottom-10 md:bottom-20 w-full text-center z-30 animate-bounce"
        >
            <span class="text-xs md:text-sm text-gray-500 dark:text-gray-400"
                >Scroll Down</span
            >
        </div>
    </main>
</Layout>
